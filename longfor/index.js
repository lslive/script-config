/**
Title: Longfor 签到打卡
Nomination / Category: QuanmuteX
Written by: lslive
Date: 2025-7-31
Draft Version: 0.1
Contact Info: https://github.com/lslive
Notes: 只测试过圈X，其它环境请自行尝试
*/

/***
const ckName = "longfor";
const key = "longfor_apikey";
*/


var _0xodd='jsjiami.com.v7';const _0x4e77fe=_0x425e;(function(_0x1d6dd9,_0x5f1206,_0xe9b182,_0xfadd57,_0x41b128,_0x23b4fb,_0x1d0128){return _0x1d6dd9=_0x1d6dd9>>0x5,_0x23b4fb='hs',_0x1d0128='hs',function(_0x6efea0,_0x5295af,_0x20bff0,_0x3442c9,_0x146bef){const _0x18c4d6=_0x425e;_0x3442c9='tfi',_0x23b4fb=_0x3442c9+_0x23b4fb,_0x146bef='up',_0x1d0128+=_0x146bef,_0x23b4fb=_0x20bff0(_0x23b4fb),_0x1d0128=_0x20bff0(_0x1d0128),_0x20bff0=0x0;const _0x330fcc=_0x6efea0();while(!![]&&--_0xfadd57+_0x5295af){try{_0x3442c9=parseInt(_0x18c4d6(0x1ce,'oUep'))/0x1*(-parseInt(_0x18c4d6(0x1d0,'PAd^'))/0x2)+parseInt(_0x18c4d6(0x1ca,'Iat5'))/0x3+-parseInt(_0x18c4d6(0x18c,'q#p#'))/0x4*(-parseInt(_0x18c4d6(0x1c2,'5POW'))/0x5)+-parseInt(_0x18c4d6(0x19b,'Btj2'))/0x6+-parseInt(_0x18c4d6(0x19f,'i7sD'))/0x7+-parseInt(_0x18c4d6(0x17e,'LNyc'))/0x8+parseInt(_0x18c4d6(0x141,'Q5J)'))/0x9;}catch(_0x3a46ce){_0x3442c9=_0x20bff0;}finally{_0x146bef=_0x330fcc[_0x23b4fb]();if(_0x1d6dd9<=_0xfadd57)_0x20bff0?_0x41b128?_0x3442c9=_0x146bef:_0x41b128=_0x146bef:_0x20bff0=_0x146bef;else{if(_0x20bff0==_0x41b128['replace'](/[qWdQSJyHXAnleBFODgb=]/g,'')){if(_0x3442c9===_0x5295af){_0x330fcc['un'+_0x23b4fb](_0x146bef);break;}_0x330fcc[_0x1d0128](_0x146bef);}}}}}(_0xe9b182,_0x5f1206,function(_0x46656b,_0x3de2a5,_0x14b137,_0x377508,_0x58aa17,_0x4e92e5,_0xe06474){return _0x3de2a5='\x73\x70\x6c\x69\x74',_0x46656b=arguments[0x0],_0x46656b=_0x46656b[_0x3de2a5](''),_0x14b137='\x72\x65\x76\x65\x72\x73\x65',_0x46656b=_0x46656b[_0x14b137]('\x76'),_0x377508='\x6a\x6f\x69\x6e',(0x1b28df,_0x46656b[_0x377508](''));});}(0x17a0,0x2e1b6,_0x5a61,0xbf),_0x5a61)&&(_0xodd=0x34c1);const $=new Env(_0x4e77fe(0x1b1,'^GDE')),ckName=_0x4e77fe(0x1b9,'LNyc'),key=_0x4e77fe(0x1df,'c&*u');function _0x425e(_0x5e9109,_0x2a5d06){const _0x5a6124=_0x5a61();return _0x425e=function(_0x425eca,_0x4d342b){_0x425eca=_0x425eca-0x13e;let _0x2053bf=_0x5a6124[_0x425eca];if(_0x425e['ZHyvuU']===undefined){var _0x1cea85=function(_0x2753c5){const _0x454385='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2cac39='',_0x1bcb06='';for(let _0x428b24=0x0,_0x51ce1d,_0x3076a4,_0x5dca19=0x0;_0x3076a4=_0x2753c5['charAt'](_0x5dca19++);~_0x3076a4&&(_0x51ce1d=_0x428b24%0x4?_0x51ce1d*0x40+_0x3076a4:_0x3076a4,_0x428b24++%0x4)?_0x2cac39+=String['fromCharCode'](0xff&_0x51ce1d>>(-0x2*_0x428b24&0x6)):0x0){_0x3076a4=_0x454385['indexOf'](_0x3076a4);}for(let _0x337be4=0x0,_0x2b6842=_0x2cac39['length'];_0x337be4<_0x2b6842;_0x337be4++){_0x1bcb06+='%'+('00'+_0x2cac39['charCodeAt'](_0x337be4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1bcb06);};const _0x5efb44=function(_0xbdfd3c,_0xb2bdc6){let _0x226bcd=[],_0x358e07=0x0,_0x513b3f,_0x28692a='';_0xbdfd3c=_0x1cea85(_0xbdfd3c);let _0x53c6b5;for(_0x53c6b5=0x0;_0x53c6b5<0x100;_0x53c6b5++){_0x226bcd[_0x53c6b5]=_0x53c6b5;}for(_0x53c6b5=0x0;_0x53c6b5<0x100;_0x53c6b5++){_0x358e07=(_0x358e07+_0x226bcd[_0x53c6b5]+_0xb2bdc6['charCodeAt'](_0x53c6b5%_0xb2bdc6['length']))%0x100,_0x513b3f=_0x226bcd[_0x53c6b5],_0x226bcd[_0x53c6b5]=_0x226bcd[_0x358e07],_0x226bcd[_0x358e07]=_0x513b3f;}_0x53c6b5=0x0,_0x358e07=0x0;for(let _0x2be1b1=0x0;_0x2be1b1<_0xbdfd3c['length'];_0x2be1b1++){_0x53c6b5=(_0x53c6b5+0x1)%0x100,_0x358e07=(_0x358e07+_0x226bcd[_0x53c6b5])%0x100,_0x513b3f=_0x226bcd[_0x53c6b5],_0x226bcd[_0x53c6b5]=_0x226bcd[_0x358e07],_0x226bcd[_0x358e07]=_0x513b3f,_0x28692a+=String['fromCharCode'](_0xbdfd3c['charCodeAt'](_0x2be1b1)^_0x226bcd[(_0x226bcd[_0x53c6b5]+_0x226bcd[_0x358e07])%0x100]);}return _0x28692a;};_0x425e['AQLSdv']=_0x5efb44,_0x5e9109=arguments,_0x425e['ZHyvuU']=!![];}const _0x5e1045=_0x5a6124[0x0],_0x5a71c7=_0x425eca+_0x5e1045,_0x571c9f=_0x5e9109[_0x5a71c7];return!_0x571c9f?(_0x425e['hgsPYV']===undefined&&(_0x425e['hgsPYV']=!![]),_0x2053bf=_0x425e['AQLSdv'](_0x2053bf,_0x4d342b),_0x5e9109[_0x5a71c7]=_0x2053bf):_0x2053bf=_0x571c9f,_0x2053bf;},_0x425e(_0x5e9109,_0x2a5d06);}let userCookie=$[_0x4e77fe(0x17a,'swHt')](ckName),apiKey=$[_0x4e77fe(0x14c,'PCeE')](key);async function getSignLongforApp(_0x6e8429){const _0x41c973=_0x4e77fe,_0x2c8962={'caPht':_0x41c973(0x1ad,'LNyc'),'ceTgu':_0x41c973(0x15a,'![Z['),'NMogG':_0x41c973(0x169,'9wFM'),'JBGhO':_0x41c973(0x165,'$!Ne'),'mZInh':'APPKEY','tYUjj':_0x41c973(0x1bc,'9wFM'),'eySqr':function(_0x475b4c,_0x1cbb5e){return _0x475b4c!==_0x1cbb5e;},'nqEma':function(_0x1e8e03,_0x19506a){return _0x1e8e03===_0x19506a;},'wSMMe':'vbncw','pAgZK':_0x41c973(0x1d2,'C!S0'),'PNWFK':function(_0x14a1f8,_0x5bf830){return _0x14a1f8===_0x5bf830;},'Laoks':_0x41c973(0x15c,'7Kd5'),'KeFcq':function(_0x1c7fca){return _0x1c7fca();}},_0x5b037a=_0x41c973(0x148,'q#p#'),_0x324ccd={...userCookie,'X-GAIA-API-KEY':apiKey[_0x2c8962[_0x41c973(0x1c8,'P)lF')]],'X-LF-Bu-Code':_0x2c8962['tYUjj'],'X-LF-DXRisk-Source':'5','X-LF-Channel':'C3'},_0x441482=JSON[_0x41c973(0x1de,'PAd^')]({'activity_no':_0x6e8429});try{if(_0x2c8962['eySqr'](_0x41c973(0x199,'iCfV'),_0x41c973(0x14a,'$!Ne')))return _0x50f279[_0x41c973(0x16c,'U)Ud')](_0x41c973(0x1c1,'$2)%'));else{const _0x1b5ee8=await $[_0x41c973(0x15d,'yj5f')][_0x41c973(0x1cb,'Iat5')]({'url':_0x5b037a,'headers':_0x324ccd,'body':_0x441482});if(_0x2c8962[_0x41c973(0x154,'LFJp')](_0x1b5ee8[_0x41c973(0x19a,'uohN')],0xc8))_0x2c8962[_0x41c973(0x17d,'iCfV')]===_0x2c8962[_0x41c973(0x143,'Iat5')]?_0x3076a4[_0x41c973(0x149,'2l6t')]('⚠️\x20请求失败:\x20'+_0x5dca19['statusCode']+'\x0a'+_0x337be4[_0x41c973(0x190,'nGPL')]):$['log'](_0x41c973(0x181,'7Kd5')+_0x1b5ee8[_0x41c973(0x15b,'npL8')]);else{if(_0x2c8962[_0x41c973(0x189,'npL8')]('acCHz',_0x2c8962['Laoks'])){const _0x348439=_0x355b0b[_0x2c8962[_0x41c973(0x156,'5POW')]][_0x41c973(0x184,')nR#')],_0x4dcf2b=_0x38ff7c[_0x2c8962['caPht']]['User-Agent']||_0x2c8962['ceTgu'],_0x2c4fe5=_0x86b0fe[_0x2c8962['caPht']][_0x2c8962[_0x41c973(0x1c6,'$2)%')]],_0x413512=_0x41717b[_0x2c8962[_0x41c973(0x1b2,'!PK%')]][_0x2c8962[_0x41c973(0x160,'Tk0F')]],_0x4fee59=_0xe69464[_0x2c8962['caPht']][_0x41c973(0x1b8,'q#p#')],_0x802d47=_0x41c973(0x150,')nR#'),_0x4d6d82='2f9e3889-91d9-4684-8ff5-24d881438eaf';_0x435580['setjson']({'X-LF-DXRisk-Token':_0x348439,'Content-Type':_0x41c973(0x155,'y2c#'),'User-Agent':_0x4dcf2b,'X-LF-UserToken':_0x413512,'Cookie':_0x2c4fe5,'authtoken':_0x4fee59},_0x16d013),_0x4107c7['setjson']({'APPKEY':_0x802d47,'wxkey':_0x4d6d82},_0x2caf09),_0x20ebbe['msg'](_0x2eb19d[_0x41c973(0x14e,'GlBL')],'',_0x41c973(0x174,'GHtm'));}else $[_0x41c973(0x18d,'VHZm')](_0x41c973(0x1af,'i7sD')+_0x1b5ee8[_0x41c973(0x179,'^GDE')]+'\x0a'+_0x1b5ee8[_0x41c973(0x1d3,'!PK%')]);}}}catch(_0x5620c5){$[_0x41c973(0x13e,')J3q')](_0x41c973(0x1db,'HNqG')+_0x5620c5),await _0x2c8962[_0x41c973(0x1a0,'PAd^')](delectCK);}}async function lotteryChance(){const _0x2b440d=_0x4e77fe,_0x1d9876={'YsWMU':_0x2b440d(0x19e,'$!Ne'),'lKqLF':'C216G18R54O4HQVV','sjmar':function(_0x25fd62,_0x4513e9){return _0x25fd62!==_0x4513e9;},'OGGtE':_0x2b440d(0x1b7,'wU*N'),'VPpvl':function(_0x181266,_0x3655c2){return _0x181266===_0x3655c2;},'lkXQf':function(_0x2fc2b1,_0x9035a){return _0x2fc2b1!==_0x9035a;},'msbHm':_0x2b440d(0x1d6,'O*Ov'),'qcmCa':function(_0x395c1e,_0x196cdb){return _0x395c1e===_0x196cdb;},'FfPiT':_0x2b440d(0x18f,'wU*N'),'HLFuj':function(_0xd4bf24){return _0xd4bf24();}},_0x16d315='https://gw2c-hw-open.longfor.com/llt-gateway-prod/api/v1/activity/auth/lottery/chance',_0x3bdc49={...userCookie,'x-gaia-api-key':apiKey[_0x1d9876[_0x2b440d(0x1d4,'P)lF')]],'bucode':'C30403','channel':'C3','X-LF-DXRisk-Source':'5'},_0x23ec05={'component_no':_0x1d9876[_0x2b440d(0x164,'U)Ud')],'activity_no':_0x2b440d(0x1c0,'PCeE')};try{if(_0x1d9876[_0x2b440d(0x1b4,'tSpo')](_0x1d9876['OGGtE'],_0x2b440d(0x167,'iCfV')))_0x5807a1['log'](_0x2b440d(0x17f,'!PK%')+_0x5d4328[_0x2b440d(0x1a3,'![Z[')]+'\x0a'+_0x5d4cc5[_0x2b440d(0x153,'kKcU')]);else{const _0x225982=await $[_0x2b440d(0x15d,'yj5f')][_0x2b440d(0x1d7,'nGPL')]({'url':_0x16d315,'headers':_0x3bdc49,'searchParams':_0x23ec05});_0x1d9876[_0x2b440d(0x1b6,'O*Ov')](_0x225982[_0x2b440d(0x1a7,'(n@D')],0xc8)?$[_0x2b440d(0x1ab,'5POW')](_0x2b440d(0x1a8,')J3q')+_0x225982[_0x2b440d(0x190,'nGPL')]):_0x1d9876['lkXQf'](_0x1d9876[_0x2b440d(0x1a1,'7Kd5')],_0x1d9876[_0x2b440d(0x1d1,'swHt')])?_0x15290b[_0x2b440d(0x19c,'uohN')](_0x2b440d(0x152,'P)lF')+_0x2cd07f[_0x2b440d(0x158,'C#Ge')]):$[_0x2b440d(0x1d8,'Kv#V')](_0x2b440d(0x147,'c&*u')+_0x225982['statusCode']+'\x0a'+_0x225982[_0x2b440d(0x142,'bdb]')]);}}catch(_0x4822ea){_0x1d9876[_0x2b440d(0x14d,'bdb]')](_0x1d9876['FfPiT'],_0x2b440d(0x188,'^GDE'))?_0x454385['log'](_0x2b440d(0x191,'Iat5')+_0x2cac39['body']):($[_0x2b440d(0x149,'2l6t')]('❌\x20请求错误\x20请更新CK:\x20'+_0x4822ea),await _0x1d9876[_0x2b440d(0x195,'2l6t')](delectCK));}}function _0x5a61(){const _0x15a7eb=(function(){return[_0xodd,'yXJjJdsWQjdAienamiBO.Ddcqgomyb.lFveHl7SO==','WOlcRCo9W5BcJW','WOTwgq','W7Xzcq','WPTJce9m','A8oaWRVcOqyrW74','4P2SWRRORO3MSQJPL67ORlfM6k6W5PQ45PEAWQerpmoH','WQfVy8oXWRldLqZcGSkleWWQW4ePt0pdKYtcRs1PW4nZW5ZcMeP3jfSHD3xdKNj+DmovW4ZdUtNcPI8skMj3dwddQbZcJmoohmkkWOZcIK7cLdiFWQJdGmkrlmoegmkZe8knW6/dJ8kdk8kgbwVdH0zxWPboWOddGbS1DeHWW5xcKmkYsSozWOhdVg5pWRXYzCoyqSoHW48AW5FcQYrl','bSogAgZdP8kPW6q','WP90A8oXWRddNGtdI8oh','WPKRA8kQWOBdONpcJWLspCksW7VcNq','WPnGWRi','rshcQca','WOpdRSoxi8kUiSk/','bmkorSoDW5H9W6O2peNcQmowxG','wMVcICoM','WPClWPfCW5y','W5tcGSohW4BcP8kphG','WPVcO8ouWRJdSCkOW67dSWzU','mKDvBSkd','4PMv77MljEISUUAYOUwMVoI0PmoQsa','gColtYNcJmo5WP5caavzWOeaCCksWOVdVx8uWQyUWPhcLSoicrdcSSkQWRxcKhxcNtddVI3dICknW6ihB8oJn2SJwwKFWQ/dLrpcM8kTnCoXCConhvNcLmkPhXVcNMddTL/dVJPnz8oBFd/cTmoHWPyhEmo/ELGJqCkHBKBcVH8PWQldOmkaEa','eSk0W5i','nmk6WQ4BW7W','W449W6zwW67cP0ddNIddGuJcNmoh','WQ3cOIiYomknWPS','swFcGmoCWPm','BCoeWRFcOa','W5K1W4nwyCkHW48','qgexW5L3emkiWRuBjSoFCmozWORcLXelW5rOW4niD8o8W5DRW6JdNHlcG8ooWRGFebFdJqe','s8o6WPXUW4VcI8kUW6ddG8kHW6JdVmkm','4P6VCoITGoAXVUAiGUwjKCkBwW','tCo/bmky','WOf0WORdKmoe','W5LHa3hcOSoIW5pcSSoqzmk8WQVdPrBdMe4ey2BdUmoNwSkqtXddLZ4MCfm','DHvggxO','udrvWOqXtmka','drBcQba','xKJdVvHGW7ddV2xcLeNcNCkBk8k6WQLcW44KW5ekvHmaBmk/WO1frIJdPmkPW64','WR3dPmozimkXiCkWWPpdGZFdLrmyzSk5na7dICodgCkgW5NdPSoajhlcHSoXW5NcThdcLH0YW7bBWQhcSmkzWQetsubiWOFdJCkjxSobcmoJWOZdMbnlW4DscY0RnHeiW4zaWOddRH0cgCkIvxKtW6niW6hcOJZdN39/WPZdHHqaW6xcQ2axj2hcO8obW5HFaMiaeCk9WOL4r8oVw8kjAdG','W5lcOYjk','W45jWP7cHLC','bCoVnSoT','WOrwdeHzW4FcGa','W4TLeMNcVSoYW7hcQCoDBG','W5vVW4JdVmkv','W4BcOJ5ClG','eSobW4RdMX5EWR4','vMxcGmo6','emkiW50AWRS','jCoNWRyFWONdGdiXWR3cMCoUWQvgW7a','fSo7tdVcSW','c8kveCkNmW','iCkbWRCKft5pW6aTW6KMuCodj27dJZhdRSkJW6yRemolWPjjF00qi2/dKGjOWOHbWOtdVc3dIYfOWQ1TWOJcJCkoWPNcOuTHW4ZcRmkifCk9amkOlvZcUIi5ufqdnSo+kWFcP3DRW5NdMCkLWPNdNmk6WQBdJmkjsmoRsehdMmkvc2FcO8kBWO1HuxjoWQ0sFCkmW5/cPmkLW6aDoCkWFxu'].concat((function(){return['W7/dQmo/gXhcOW','WONcOCox','WRKrvCkNWPy','emkSW4S','umo1cCkE','W5tdV8kbWPhdLmoYs8ooW6JcI0/cNNHCz8oSiCohwCoDtLJcVhZdMKRcNv4BfCkMkG','bL/dL17dNa','luVdUe/dMq','WO/cPHGmmG','p8keW44uWRm','uc/cPs0','6i2T5y6756YZ5yUMWO/cSSoxxedcUEAiVUwiPpcxJzC','CveeD8oe','lsldMq4','WOhcOCoEW4u','cmkKWP48W4ldVc8XWQS','Bxiev8oBkmoWW7dcSSkS','ACoAqCkedYvV','WPLGWOupjSo9W5qoWPP6W5TH','WRGhCmkgWRe','kCkxjSkeaG','tmkwktpcPSkLW77dRZvXWQ8','4PMa77QfjUISS+AZTowKNUI0VZJdSW','4P+M6k6N5yE/6i6l5y+eW67dOJa','4P6ydUISKoAYJoAiOUwkL8oiW4K','W6OgatJcJSkk','gmkQWRSanG','E3XTWQHVz8k2W5zFzSorA8k1W4JdIeDs','xwKksmohpG','WPL2fgHD','WQyDWPTIW7S','t1yttCoQ','W6dcGHf1lW','wJtcTsrpjabxWQFcNWC7W4z8WRVdUeNcJCkHWOekWO4lWOxcKmkdWQv6WQRcGSo0FSoxfcldRCkOW7b2oCkkzW7dScVcVuWMWQ7cSL4couxdGmovWQSyWOldPYZcMXyzWP3dQmoVWQddMWWqW7FdGSo3W5fwdmoFWOZcHSouWQfmWPG','6i2B5y+L56Yt5yICF8oAWPZdRxe55OMe5yUh8ywUIq','qmkga2/dH8kzW7qGpWCB','W5hcHKm','wwilv8om','W4T2ogqZ','WO5Ccvu','4P+IAUISGEAXHoAkJEwkPmkKgq','vSocpmkqWOC','4P2hc+ITVEAZGEMvREIVGNFORy7MM6dMLzRcUb/dSCou','W4CIpmkOW5pcTtNdQuuBzCkDWQFdICksyvxcPmkeegqRW7uCvHibWRtdLCkmWODFq0eGxq','nSkxW7mFzG','WOFcOrC/da','be/dUh/dTCoGWQq','W4HskW','f8k0p8klpW','h8kAWQW5dcfTWQb8WQi','B8kHWQVcOguPW5uzkCoAs8olvW','amkbWQO','WQ0SBmkiWRa','cSkYWPe8W50','yG8+cSo/a8o/WO4rW79YW7Ph'].concat((function(){return['WQDLx8o7WQ8','W7bDWOxcHL8','WPVcSSobWQBdT8k0W4m','WOpdV8ocpCkOpSksW5pcKNW','lmkJbCkMpq','ewddUY0NWOqgcSobr8oEEqhdL3zDra','W7ncW6G','WP8ZW6vWiMVdUG/cJHq','4P+6l+ISOUAWO+AlIEwiIe/cLa','WP9ZWQddV8oi','WOdcSSouWQJdOCkPW54','ErTX','cCkRWOi8W4e','hCogFwldSCk0W7K','WQHOFSo8WRi','4PUZ77IYlEIVIUAYIUwKGUI3R8oEvW','WQigwYmHW58cWOddPXmFW6BdSq','uMKlrmoinmobWR/NRQJLI7NMIjFLJzC','WOpdQ1BcRmoc','hSkPwmoxW7vLWO/dHangWQG','WOLuWPH/WOi','WOrUWRZdRmoS','WRpcNSoaW5BcIq','W7bWnMmG','kCksDX/dKSkwW4iifsyeWOLiDW','gComCMhdSSkPW7G','eCkMW5G+WPldNW','WPTGWRSe','W7/cTmkGreJdTq','WPXGWRVdL8owWOPK','oSkGW74UWRS','tvLAnYpdRJmNWPJcGu7dHfiG','WOVcL2rTbCosW4nHeY/cKsXKmgTp','4PYG6k+D5yEr6i6S5y2gWRlcLhK','j0fCkwddLseo','lJlcOWaF','eSkSW5G/WPVdGSovW7VdIW','WPSLAmkO','iMFdTNZdLW','WPvKo0fM','W4CkW75sEG','WP8ZW7zTox/dKaBcKW','W5r6W4q1WQKiW6TmWP/cMhD8','WPCLWOvY','WOeKrIJdUCoIW4BcOmo7ACkt','WOfwgurtW5e','W5NcM8ocWQRdHSkxW4K','W7j9W7T6p8kkW7KPWOjGW6maWQVdGmoXvwy','W5K2imkRW67cGr/dNSoBug9S','y8omv8kMeq','pr3dJYfl','WOldPwlcVq','W7mJW6bXrW','W5j+WRpcH31gWQe'];}()));}()));}());_0x5a61=function(){return _0x15a7eb;};return _0x5a61();};async function lotteryClick(){const _0x33ba31=_0x4e77fe,_0x105c48={'XhiEP':function(_0x3d4ea8,_0xb61308){return _0x3d4ea8!=_0xb61308;},'EaNTy':_0x33ba31(0x15e,'nGPL'),'tDvMO':_0x33ba31(0x1a5,'C!S0'),'lPvTL':'User-Agent','AaaTI':_0x33ba31(0x182,'@qYY'),'MfAgG':'X-LF-UserToken','juNEL':'application/json;charset=UTF-8','LUPjv':_0x33ba31(0x18b,'nGPL'),'pvoBm':'wxkey','upsgO':function(_0x4f7240,_0x46cfc6){return _0x4f7240===_0x46cfc6;},'vXFzp':function(_0x65da8f){return _0x65da8f();}},_0x470f36=_0x33ba31(0x18a,'c2%z'),_0x490e42={...userCookie,'x-gaia-api-key':apiKey[_0x105c48[_0x33ba31(0x1a9,'LFJp')]],'bucode':'C30403','channel':'C3','X-LF-DXRisk-Source':'5'},_0x24b39f=JSON[_0x33ba31(0x1c9,'(n@D')]({'component_no':'C216G18R54O4HQVV','activity_no':'AP25N062U6LDDSKR','batch_no':''});try{const _0x5c3f45=await $['http'][_0x33ba31(0x16d,'HNqG')]({'url':_0x470f36,'headers':_0x490e42,'body':_0x24b39f});if(_0x105c48['upsgO'](_0x5c3f45[_0x33ba31(0x145,'oUep')],0xc8))$[_0x33ba31(0x16a,'O*Ov')]('✅\x20请求成功:\x20'+_0x5c3f45[_0x33ba31(0x190,'nGPL')]);else{if('YbghI'===_0x33ba31(0x1b5,'LFJp')){if(_0x180199&&_0x105c48[_0x33ba31(0x19d,'c&*u')](_0x8425b9[_0x33ba31(0x1ba,'U)Ud')],_0x33ba31(0x162,'Btj2'))){const _0x1c0741=_0x2fda46[_0x105c48[_0x33ba31(0x171,'PCeE')]][_0x105c48[_0x33ba31(0x183,'uohN')]],_0xb51da6=_0x1cf758[_0x33ba31(0x1da,'GlBL')][_0x105c48['lPvTL']]||_0x33ba31(0x1dc,'PAd^'),_0x575edb=_0x2d3855['headers'][_0x105c48[_0x33ba31(0x170,'$2)%')]],_0x9e4e3e=_0x129d06[_0x105c48['EaNTy']][_0x105c48[_0x33ba31(0x196,'PCeE')]],_0x192f18=_0x1199f6[_0x33ba31(0x1aa,'oUep')][_0x33ba31(0x1bf,'5POW')],_0x197fd8='c06753f1-3e68-437d-b592-b94656ea5517',_0x365f16='2f9e3889-91d9-4684-8ff5-24d881438eaf';_0x38bab7['setjson']({'X-LF-DXRisk-Token':_0x1c0741,'Content-Type':_0x105c48[_0x33ba31(0x16f,'$2)%')],'User-Agent':_0xb51da6,'X-LF-UserToken':_0x9e4e3e,'Cookie':_0x575edb,'authtoken':_0x192f18},_0x2c5cd7),_0x14f576[_0x33ba31(0x14f,'P)lF')]({'APPKEY':_0x197fd8,'wxkey':_0x365f16},_0x316f40),_0x59c8ca[_0x33ba31(0x198,'wU*N')](_0x15ca83[_0x33ba31(0x163,'bdb]')],'',_0x105c48[_0x33ba31(0x16b,'c&*u')]);}_0x3b3f54[_0x33ba31(0x1bb,')J3q')]();}else $['log']('⚠️\x20请求失败:\x20'+_0x5c3f45[_0x33ba31(0x15f,'y2c#')]+'\x0a'+_0x5c3f45['body']);}}catch(_0x1618a3){$[_0x33ba31(0x13e,')J3q')](_0x33ba31(0x193,'Uq4a')+_0x1618a3),await _0x105c48[_0x33ba31(0x192,'HNqG')](delectCK);}}async function delectCK(){const _0xca135e=_0x4e77fe;$[_0xca135e(0x1dd,'LNyc')](null,ckName),$[_0xca135e(0x1bd,'LFJp')](null,key);}async function getCookie(){const _0x2df0df=_0x4e77fe,_0x4888b1={'uEyDa':_0x2df0df(0x1d5,'7Kd5'),'AWmdf':function(_0x420ff9,_0x177014){return _0x420ff9!==_0x177014;},'oWaTj':'voYbH','taxee':_0x2df0df(0x15e,'nGPL'),'azXSK':_0x2df0df(0x1cf,'P)lF'),'MCuKQ':_0x2df0df(0x168,'uohN'),'EIrNk':_0x2df0df(0x185,'^GDE'),'Dhgdl':'X-LF-UserToken','KZDzo':'application/json;charset=UTF-8','vnxoJ':'获取签到Cookie成功🎉'};if($request&&$request[_0x2df0df(0x1cd,'nGPL')]!=_0x4888b1[_0x2df0df(0x186,'nGPL')]){if(_0x4888b1[_0x2df0df(0x187,'Iat5')]('voYbH',_0x4888b1[_0x2df0df(0x175,'^GDE')]))_0x72b05c[_0x2df0df(0x140,'![Z[')](null,_0x1fc84d),_0xcd84f7[_0x2df0df(0x157,')nR#')](null,_0x3a0dc4);else{const _0x3bf0ef=$request[_0x4888b1['taxee']][_0x4888b1[_0x2df0df(0x146,'i7sD')]],_0x26bb45=$request[_0x4888b1['taxee']]['User-Agent']||_0x4888b1[_0x2df0df(0x17c,'c&*u')],_0x49fbb3=$request[_0x4888b1['taxee']][_0x4888b1['EIrNk']],_0x10fa1d=$request[_0x2df0df(0x197,'$2)%')]['X-LF-UserToken'],_0x29b4df=$request[_0x4888b1[_0x2df0df(0x1ac,'$!Ne')]][_0x4888b1[_0x2df0df(0x1ae,'PAd^')]],_0x241010='c06753f1-3e68-437d-b592-b94656ea5517',_0x54d73e=_0x2df0df(0x194,'c&*u');$['setjson']({'X-LF-DXRisk-Token':_0x3bf0ef,'Content-Type':_0x4888b1['KZDzo'],'User-Agent':_0x26bb45,'X-LF-UserToken':_0x10fa1d,'Cookie':_0x49fbb3,'authtoken':_0x29b4df},ckName),$[_0x2df0df(0x1a2,'oUep')]({'APPKEY':_0x241010,'wxkey':_0x54d73e},key),$['msg']($[_0x2df0df(0x1c5,'c&*u')],'',_0x4888b1[_0x2df0df(0x161,'npL8')]);}}$[_0x2df0df(0x176,'C!S0')]();}(async()=>{const _0x49ec9f=_0x4e77fe,_0x1990a0={'FcRxF':function(_0x2f9114,_0x5396b7){return _0x2f9114!=_0x5396b7;},'wPecp':_0x49ec9f(0x178,'$!Ne'),'CGbBN':_0x49ec9f(0x1c3,'C#Ge'),'rgnoZ':_0x49ec9f(0x18e,'^GDE'),'yWVmZ':_0x49ec9f(0x159,'C#Ge'),'gDwbL':_0x49ec9f(0x16e,'O*Ov'),'OvkNN':function(_0x1044b6){return _0x1044b6();}};if(_0x1990a0[_0x49ec9f(0x1be,'U)Ud')](typeof $request,_0x1990a0[_0x49ec9f(0x1d9,'nGPL')])){await getCookie();return;}if(!userCookie||!apiKey){if(_0x1990a0[_0x49ec9f(0x172,'U)Ud')]===_0x1990a0[_0x49ec9f(0x1a4,'iCfV')])_0xb2bdc6['log'](_0x49ec9f(0x152,'P)lF')+_0x226bcd[_0x49ec9f(0x173,'c2%z')]);else return $[_0x49ec9f(0x1a6,'Tk0F')](_0x49ec9f(0x180,'P)lF'));}await getSignLongforApp(_0x1990a0[_0x49ec9f(0x1c7,'nGPL')]),await $[_0x49ec9f(0x13f,'c2%z')](0x3e8),await getSignLongforApp(_0x1990a0[_0x49ec9f(0x166,'q#p#')]),await $['wait'](0x3e8),await _0x1990a0['OvkNN'](lotteryChance),await $['wait'](0x3e8),await lotteryClick();})()['catch'](_0x21d957=>$[_0x4e77fe(0x1c4,'U)Ud')]['push'](_0x21d957['message']||_0x21d957))['finally'](async()=>{const _0x35215d=_0x4e77fe;$[_0x35215d(0x177,'O*Ov')]();});var version_ = 'jsjiami.com.v7';




function Env(e,t){class s{constructor(e){this.env=e}send(e,t="GET"){e="string"==typeof e?{url:e}:e;let s=this.get;"POST"===t&&(s=this.post);const i=new Promise(((t,i)=>{s.call(this,e,((e,s,o)=>{e?i(e):t(s)}))}));return e.timeout?((e,t=1e3)=>Promise.race([e,new Promise(((e,s)=>{setTimeout((()=>{s(new Error("请求超时"))}),t)}))]))(i,e.timeout):i}get(e){return this.send.call(this.env,e)}post(e){return this.send.call(this.env,e,"POST")}}return new class{constructor(e,t){this.logLevels={debug:0,info:1,warn:2,error:3},this.logLevelPrefixs={debug:"[DEBUG] ",info:"[INFO] ",warn:"[WARN] ",error:"[ERROR] "},this.logLevel="info",this.name=e,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,t),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(e,t=null){try{return JSON.parse(e)}catch{return t}}toStr(e,t=null,...s){try{return JSON.stringify(e,...s)}catch{return t}}getjson(e,t){let s=t;if(this.getdata(e))try{s=JSON.parse(this.getdata(e))}catch{}return s}setjson(e,t){try{return this.setdata(JSON.stringify(e),t)}catch{return!1}}getScript(e){return new Promise((t=>{this.get({url:e},((e,s,i)=>t(i)))}))}runScript(e,t){return new Promise((s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=t&&t.timeout?t.timeout:o;const[r,a]=i.split("@"),n={url:`http://${a}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"},policy:"DIRECT",timeout:o};this.post(n,((e,t,i)=>s(i)))})).catch((e=>this.logErr(e)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),i=!s&&this.fs.existsSync(t);if(!s&&!i)return{};{const i=s?e:t;try{return JSON.parse(this.fs.readFileSync(i))}catch(e){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),i=!s&&this.fs.existsSync(t),o=JSON.stringify(this.data);s?this.fs.writeFileSync(e,o):i?this.fs.writeFileSync(t,o):this.fs.writeFileSync(e,o)}}lodash_get(e,t,s){const i=t.replace(/\[(\d+)\]/g,".$1").split(".");let o=e;for(const e of i)if(o=Object(o)[e],void 0===o)return s;return o}lodash_set(e,t,s){return Object(e)!==e||(Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]),t.slice(0,-1).reduce(((e,s,i)=>Object(e[s])===e[s]?e[s]:e[s]=Math.abs(t[i+1])>>0==+t[i+1]?[]:{}),e)[t[t.length-1]]=s),e}getdata(e){let t=this.getval(e);if(/^@/.test(e)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(e),o=s?this.getval(s):"";if(o)try{const e=JSON.parse(o);t=e?this.lodash_get(e,i,""):t}catch(e){t=""}}return t}setdata(e,t){let s=!1;if(/^@/.test(t)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(t),r=this.getval(i),a=i?"null"===r?null:r||"{}":"{}";try{const t=JSON.parse(a);this.lodash_set(t,o,e),s=this.setval(JSON.stringify(t),i)}catch(t){const r={};this.lodash_set(r,o,e),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(e,t);return s}getval(e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(e);case"Quantumult X":return $prefs.valueForKey(e);case"Node.js":return this.data=this.loaddata(),this.data[e];default:return this.data&&this.data[e]||null}}setval(e,t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(e,t);case"Quantumult X":return $prefs.setValueForKey(e,t);case"Node.js":return this.data=this.loaddata(),this.data[t]=e,this.writedata(),!0;default:return this.data&&this.data[t]||null}}initGotEnv(e){this.got=this.got?this.got:require("got").got,this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,e&&(e.headers=e.headers?e.headers:{},e&&(e.headers=e.headers?e.headers:{},void 0===e.headers.cookie&&void 0===e.headers.Cookie&&void 0===e.cookieJar&&(e.cookieJar=this.ckjar)))}get(e,t=(()=>{})){switch(e.headers&&(delete e.headers["Content-Type"],delete e.headers["Content-Length"],delete e.headers["content-type"],delete e.headers["content-length"]),e.params&&(e.url+="?"+this.queryStr(e.params)),void 0===e.followRedirect||e.followRedirect||((this.isSurge()||this.isLoon())&&(e["auto-redirect"]=!1),this.isQuanX()&&(e.opts?e.opts.redirection=!1:e.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(e,((e,s,i)=>{!e&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),t(e,s,i)}));break;case"Quantumult X":this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then((e=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=e;t(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(e=>t(e&&e.error||"UndefinedError")));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(e),this.got(e).on("redirect",((e,t)=>{try{if(e.headers["set-cookie"]){const s=e.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),t.cookieJar=this.ckjar}}catch(e){this.logErr(e)}})).then((e=>{const{statusCode:i,statusCode:o,headers:r,rawBody:a}=e,n=s.decode(a,this.encoding);t(null,{status:i,statusCode:o,headers:r,rawBody:a,body:n},n)}),(e=>{const{message:i,response:o}=e;t(i,o,o&&s.decode(o.rawBody,this.encoding))}));break}}post(e,t=(()=>{})){const s=e.method?e.method.toLocaleLowerCase():"post";switch(e.body&&e.headers&&!e.headers["Content-Type"]&&!e.headers["content-type"]&&(e.headers["content-type"]="application/x-www-form-urlencoded"),e.headers&&(delete e.headers["Content-Length"],delete e.headers["content-length"]),void 0===e.followRedirect||e.followRedirect||((this.isSurge()||this.isLoon())&&(e["auto-redirect"]=!1),this.isQuanX()&&(e.opts?e.opts.redirection=!1:e.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](e,((e,s,i)=>{!e&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),t(e,s,i)}));break;case"Quantumult X":e.method=s,this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then((e=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=e;t(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(e=>t(e&&e.error||"UndefinedError")));break;case"Node.js":let i=require("iconv-lite");this.initGotEnv(e);const{url:o,...r}=e;this.got[s](o,r).then((e=>{const{statusCode:s,statusCode:o,headers:r,rawBody:a}=e,n=i.decode(a,this.encoding);t(null,{status:s,statusCode:o,headers:r,rawBody:a,body:n},n)}),(e=>{const{message:s,response:o}=e;t(s,o,o&&i.decode(o.rawBody,this.encoding))}));break}}time(e,t=null){const s=t?new Date(t):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in i)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[t]:("00"+i[t]).substr((""+i[t]).length)));return e}queryStr(e){let t="";for(const s in e){let i=e[s];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),t+=`${s}=${i}&`)}return t=t.substring(0,t.length-1),t}msg(t=e,s="",i="",o={}){const r=e=>{const{$open:t,$copy:s,$media:i,$mediaMime:o}=e;switch(typeof e){case void 0:return e;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:e};case"Loon":case"Shadowrocket":return e;case"Quantumult X":return{"open-url":e};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{const r={};let a=e.openUrl||e.url||e["open-url"]||t;a&&Object.assign(r,{action:"open-url",url:a});let n=e["update-pasteboard"]||e.updatePasteboard||s;n&&Object.assign(r,{action:"clipboard",text:n});let h=e.mediaUrl||e["media-url"]||i;if(h){let e,t;if(h.startsWith("http"));else if(h.startsWith("data:")){const[s]=h.split(";"),[,i]=h.split(",");e=i,t=s.replace("data:","")}else{e=h,t=(e=>{const t={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};for(var s in t)if(0===e.indexOf(s))return t[s];return null})(h)}Object.assign(r,{"media-url":h,"media-base64":e,"media-base64-mime":o??t})}return Object.assign(r,{"auto-dismiss":e["auto-dismiss"],sound:e.sound}),r}case"Loon":{const s={};let o=e.openUrl||e.url||e["open-url"]||t;o&&Object.assign(s,{openUrl:o});let r=e.mediaUrl||e["media-url"]||i;return r&&Object.assign(s,{mediaUrl:r}),console.log(JSON.stringify(s)),s}case"Quantumult X":{const o={};let r=e["open-url"]||e.url||e.openUrl||t;r&&Object.assign(o,{"open-url":r});let a=e.mediaUrl||e["media-url"]||i;a&&Object.assign(o,{"media-url":a});let n=e["update-pasteboard"]||e.updatePasteboard||s;return n&&Object.assign(o,{"update-pasteboard":n}),console.log(JSON.stringify(o)),o}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(t,s,i,r(o));break;case"Quantumult X":$notify(t,s,i,r(o));break;case"Node.js":break}if(!this.isMuteLog){let e=["","==============📣系统通知📣=============="];e.push(t),s&&e.push(s),i&&e.push(i),console.log(e.join("\n")),this.logs=this.logs.concat(e)}}debug(...e){this.logLevels[this.logLevel]<=this.logLevels.debug&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.debug}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}info(...e){this.logLevels[this.logLevel]<=this.logLevels.info&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.info}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}warn(...e){this.logLevels[this.logLevel]<=this.logLevels.warn&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.warn}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}error(...e){this.logLevels[this.logLevel]<=this.logLevels.error&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.error}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}log(...e){e.length>0&&(this.logs=[...this.logs,...e]),console.log(e.map((e=>e??String(e))).join(this.logSeparator))}logErr(e,t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t,e);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t,void 0!==e.message?e.message:e,e.stack);break}}wait(e){return new Promise((t=>setTimeout(t,e)))}done(e={}){const t=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${t} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(e);break;case"Node.js":process.exit(1)}}}(e,t)}