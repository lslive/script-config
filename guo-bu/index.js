/**
Title: Longfor 国补
Nomination / Category: Surge、QuantumultX、Loon、Shadowrocket、Node.js
Written by: lslive
Date: 2025-09-06
Draft Version: 0.1
Contact Info: https://github.com/lslive
Notes: 只测试过圈X，其它环境请自行尝试 电视卷，未开发其他卷包
*/

var _0xodV='jsjiami.com.v7';const _0x17e90e=_0x57e4;(function(_0x47ecf2,_0x3455b6,_0x3aa875,_0x27e25b,_0x4da4cd,_0x54e923,_0x1b8fae){return _0x47ecf2=_0x47ecf2>>0x4,_0x54e923='hs',_0x1b8fae='hs',function(_0x20192b,_0x459c10,_0x36a623,_0x94bcb7,_0x1ce8ac){const _0x5810eb=_0x57e4;_0x94bcb7='tfi',_0x54e923=_0x94bcb7+_0x54e923,_0x1ce8ac='up',_0x1b8fae+=_0x1ce8ac,_0x54e923=_0x36a623(_0x54e923),_0x1b8fae=_0x36a623(_0x1b8fae),_0x36a623=0x0;const _0x5e4700=_0x20192b();while(!![]&&--_0x27e25b+_0x459c10){try{_0x94bcb7=-parseInt(_0x5810eb(0x1e7,'*6Xf'))/0x1+parseInt(_0x5810eb(0x209,'Lq4W'))/0x2+parseInt(_0x5810eb(0x23e,'OZbl'))/0x3*(-parseInt(_0x5810eb(0x2a5,'l[YR'))/0x4)+-parseInt(_0x5810eb(0x208,'u]0w'))/0x5*(-parseInt(_0x5810eb(0x273,'qnhQ'))/0x6)+-parseInt(_0x5810eb(0x281,'lT&M'))/0x7*(parseInt(_0x5810eb(0x1ea,'8^p!'))/0x8)+parseInt(_0x5810eb(0x264,'kAV!'))/0x9+parseInt(_0x5810eb(0x27b,'$UZM'))/0xa;}catch(_0x400e91){_0x94bcb7=_0x36a623;}finally{_0x1ce8ac=_0x5e4700[_0x54e923]();if(_0x47ecf2<=_0x27e25b)_0x36a623?_0x4da4cd?_0x94bcb7=_0x1ce8ac:_0x4da4cd=_0x1ce8ac:_0x36a623=_0x1ce8ac;else{if(_0x36a623==_0x4da4cd['replace'](/[rtfgkRLCdwhUDBEWbyFpI=]/g,'')){if(_0x94bcb7===_0x459c10){_0x5e4700['un'+_0x54e923](_0x1ce8ac);break;}_0x5e4700[_0x1b8fae](_0x1ce8ac);}}}}}(_0x3aa875,_0x3455b6,function(_0x320a30,_0x359872,_0x37f591,_0x468ac8,_0x1d94ff,_0x195092,_0x2fbda6){return _0x359872='\x73\x70\x6c\x69\x74',_0x320a30=arguments[0x0],_0x320a30=_0x320a30[_0x359872](''),_0x37f591='\x72\x65\x76\x65\x72\x73\x65',_0x320a30=_0x320a30[_0x37f591]('\x76'),_0x468ac8='\x6a\x6f\x69\x6e',(0x1b9eca,_0x320a30[_0x468ac8](''));});}(0xbc0,0x68f3e,_0x365d,0xbe),_0x365d)&&(_0xodV=0xbe);const _0x243c66=(function(){const _0x3da4ae={'dolWa':function(_0x2a7a6e,_0x46395d){return _0x2a7a6e===_0x46395d;},'yjebi':'TSpbv'};let _0x3699f4=!![];return function(_0x4b5097,_0x40cac4){const _0x4c75f6=_0x3699f4?function(){const _0x3b2f30=_0x57e4;if(_0x3da4ae[_0x3b2f30(0x250,'G1Rf')](_0x3da4ae[_0x3b2f30(0x267,'OZbl')],'BCLpC')){const _0xbe6d30=_0x29c5cf?function(){if(_0x1c67a2){const _0x1f102b=_0x5d78['apply'](_0x4950e5,arguments);return _0x1e3f88=null,_0x1f102b;}}:function(){};return _0xf4397=![],_0xbe6d30;}else{if(_0x40cac4){const _0x24634e=_0x40cac4[_0x3b2f30(0x28d,'6Gr1')](_0x4b5097,arguments);return _0x40cac4=null,_0x24634e;}}}:function(){};return _0x3699f4=![],_0x4c75f6;};}());(function(){const _0x32a428=_0x57e4,_0x2ed0c0={'qYCoH':_0x32a428(0x274,'@3Ng'),'CWxaO':_0x32a428(0x202,'2Iuj'),'ePPPI':_0x32a428(0x26a,'#DXD'),'nvHmK':'exception','jJvoz':_0x32a428(0x27d,'6Gr1'),'BbdTY':function(_0x360fe5,_0x47e4f8){return _0x360fe5===_0x47e4f8;},'vaqaj':'aLUvo','Dsomk':'function\x20*\x5c(\x20*\x5c)','jmhVt':_0x32a428(0x20d,'7VM1'),'cMwcB':function(_0x3088ee,_0x41cf93){return _0x3088ee+_0x41cf93;},'JdvSr':_0x32a428(0x272,'NH7s'),'Ftgyk':function(_0x2feaa5,_0x53c428){return _0x2feaa5!==_0x53c428;},'HYJwK':function(_0x40b2dc,_0x367763){return _0x40b2dc(_0x367763);},'YgvlH':function(_0x3a9b48){return _0x3a9b48();},'omZMN':function(_0x50497,_0x5acb55,_0x3226da){return _0x50497(_0x5acb55,_0x3226da);}};_0x2ed0c0[_0x32a428(0x206,'kAV!')](_0x243c66,this,function(){const _0x164691=_0x32a428,_0x140dbc={'qQLQn':function(_0x5d47f5,_0x1d6e90){return _0x5d47f5!==_0x1d6e90;},'pwMJD':_0x2ed0c0[_0x164691(0x2ab,'4u*)')],'xQLLU':function(_0x4a2326,_0x5c199f){return _0x4a2326===_0x5c199f;},'HWzbD':'object','BWCsD':'function','kgAdA':'log','dDXDn':_0x2ed0c0['CWxaO'],'alYaU':_0x164691(0x280,'$[2u'),'JaeYF':_0x2ed0c0[_0x164691(0x2c8,'u]0w')],'JXZVA':_0x2ed0c0[_0x164691(0x2b0,'Ka!$')],'WVPNM':'table','cURfZ':_0x2ed0c0['jJvoz']};if(_0x2ed0c0[_0x164691(0x270,'6Gr1')](_0x164691(0x276,'oSTo'),_0x2ed0c0[_0x164691(0x2a9,'YErP')])){const _0x1fea4a=_0x140dbc[_0x164691(0x1f8,'4u*)')](typeof _0x2faf21,_0x140dbc[_0x164691(0x269,'$UZM')])?_0x57fb0a:_0x140dbc[_0x164691(0x219,'NH7s')](typeof _0x38182f,_0x140dbc['HWzbD'])&&_0x140dbc[_0x164691(0x25a,'G1Rf')](typeof _0x32082a,_0x140dbc[_0x164691(0x24d,'2Iuj')])&&typeof _0x4e1cbe===_0x140dbc['HWzbD']?_0xa6caec:this,_0x1ab2ab=_0x1fea4a[_0x164691(0x23c,'6Gr1')]=_0x1fea4a[_0x164691(0x2b5,'GYZg')]||{},_0x442849=[_0x140dbc[_0x164691(0x27c,'aO)P')],_0x140dbc[_0x164691(0x251,'Lq4W')],_0x140dbc[_0x164691(0x1ee,'7N73')],_0x140dbc[_0x164691(0x24f,'NH7s')],_0x140dbc[_0x164691(0x234,'pBJM')],_0x140dbc[_0x164691(0x284,'b$S(')],_0x140dbc[_0x164691(0x2b9,'G1Rf')]];for(let _0x43c780=0x0;_0x43c780<_0x442849['length'];_0x43c780++){const _0x26907e=_0x234143[_0x164691(0x1f3,'#agY')][_0x164691(0x262,'$[2u')]['bind'](_0x520f9e),_0x50b27e=_0x442849[_0x43c780],_0xc493ae=_0x1ab2ab[_0x50b27e]||_0x26907e;_0x26907e[_0x164691(0x1f1,'YErP')]=_0x1fcd1f[_0x164691(0x1e8,'oSTo')](_0x239c22),_0x26907e[_0x164691(0x246,'8^p!')]=_0xc493ae[_0x164691(0x2c2,'YErP')][_0x164691(0x2ad,'k9l)')](_0xc493ae),_0x1ab2ab[_0x50b27e]=_0x26907e;}}else{const _0x5cffe9=new RegExp(_0x2ed0c0[_0x164691(0x21f,'6Gr1')]),_0x384c1a=new RegExp(_0x2ed0c0[_0x164691(0x1ec,'7Iz&')],'i'),_0x2beaea=_0x137083(_0x164691(0x294,'NH7s'));if(!_0x5cffe9[_0x164691(0x2aa,'Ka!$')](_0x2ed0c0['cMwcB'](_0x2beaea,_0x164691(0x25c,'m5%%')))||!_0x384c1a['test'](_0x2beaea+_0x2ed0c0[_0x164691(0x2ba,'6Gr1')])){if(_0x2ed0c0['Ftgyk'](_0x164691(0x2a4,'7Iz&'),'FAbKm'))_0x2ed0c0[_0x164691(0x296,'k9l)')](_0x2beaea,'0');else{const _0x491029=_0x5b8098?function(){const _0x1a5f72=_0x164691;if(_0x4cfb89){const _0x478fdd=_0x2cf5d4[_0x1a5f72(0x285,'7VM1')](_0x4fca3f,arguments);return _0x197f58=null,_0x478fdd;}}:function(){};return _0x5d12e5=![],_0x491029;}}else _0x2ed0c0[_0x164691(0x232,'#wSq')](_0x137083);}})();}());const _0x4c4ea4=(function(){const _0x5911e1=_0x57e4,_0x18dbdd={'hfRYd':function(_0x4cd8f8,_0xeaae4d){return _0x4cd8f8===_0xeaae4d;},'kxxXO':'QUdxL','MBdIi':_0x5911e1(0x2af,'aeYF'),'BsXyM':_0x5911e1(0x1fa,'lT&M'),'ebbuv':'token','kwkqF':_0x5911e1(0x288,'k9l)'),'YMbZi':_0x5911e1(0x268,'7Iz&'),'NCyzI':function(_0x260ad5,_0x42510f){return _0x260ad5&&_0x42510f;},'cuqZO':_0x5911e1(0x1f7,'jrDA'),'MbBAt':_0x5911e1(0x28b,'YErP')};let _0x1e73dc=!![];return function(_0x1e8a62,_0x294913){const _0x292dd9=_0x5911e1;if(_0x18dbdd['hfRYd'](_0x18dbdd['MbBAt'],_0x18dbdd['MbBAt'])){const _0x4c7c3f=_0x1e73dc?function(){const _0x383fcc=_0x57e4;if(_0x18dbdd['hfRYd'](_0x18dbdd['kxxXO'],_0x383fcc(0x230,'u]0w'))){if(_0x294913){if(_0x18dbdd[_0x383fcc(0x27f,'YErP')](_0x18dbdd[_0x383fcc(0x235,'stE6')],_0x18dbdd[_0x383fcc(0x2a3,'Lq4W')])){const _0x275259=_0x294913[_0x383fcc(0x2bc,'$UZM')](_0x1e8a62,arguments);return _0x294913=null,_0x275259;}else{const _0x67d559=_0x37622a[_0x383fcc(0x25e,'Mt0G')]['prototype'][_0x383fcc(0x263,'VDvZ')](_0x43f71c),_0x124d6c=_0x5a1544[_0x32e67b],_0x368fe6=_0x2097a9[_0x124d6c]||_0x67d559;_0x67d559[_0x383fcc(0x2c0,'4u*)')]=_0x52de7c[_0x383fcc(0x259,'E7*b')](_0x1e6ad5),_0x67d559['toString']=_0x368fe6[_0x383fcc(0x271,'ipgW')]['bind'](_0x368fe6),_0x2f9537[_0x124d6c]=_0x67d559;}}}else{if(_0x4609c0){const _0x472c0b=_0x3dea70[_0x383fcc(0x265,'Jlgt')](_0x66c20c,arguments);return _0x5dfc5e=null,_0x472c0b;}}}:function(){};return _0x1e73dc=![],_0x4c7c3f;}else{if(_0x2e7f52&&_0x374f9b[_0x292dd9(0x247,'Iceu')]!=_0x18dbdd[_0x292dd9(0x28e,'#hXR')]){const _0xee7e07=_0xdfd2cd['headers'][_0x18dbdd[_0x292dd9(0x252,'aeYF')]],_0x526071=_0x3a8f11[_0x18dbdd[_0x292dd9(0x29f,'7Iz&')]][_0x18dbdd[_0x292dd9(0x298,'l[YR')]],_0x1bcefa=_0x38c888[_0x292dd9(0x2c9,'Iceu')]['Cookie'],_0x190bb5=_0x60f44e[_0x18dbdd[_0x292dd9(0x1fe,'Jlgt')]]['channelNo'],_0x51c8e1=_0x575994[_0x18dbdd['kwkqF']][_0x292dd9(0x1f2,'GYZg')];_0x18dbdd['NCyzI'](_0xee7e07,_0x526071)&&_0x1bcefa?(_0x46e00a[_0x292dd9(0x21d,'@3Ng')]({'token':_0xee7e07,'UserAgent':_0x526071,'Cookie':_0x1bcefa,'channelNo':_0x190bb5,'appNo':_0x51c8e1},_0xa4b8af),_0x5eda38[_0x292dd9(0x207,'8^p!')](_0xcce3e8['name'],'',_0x292dd9(0x240,'7N73'))):_0x234011[_0x292dd9(0x257,'qnhQ')](_0x2f7919['name'],'',_0x18dbdd['cuqZO']);}_0x4e0d46['done']();}};}()),_0x3504eb=_0x4c4ea4(this,function(){const _0x6a1d67=_0x57e4,_0x42e4f5={'gFdoD':function(_0x50d5ba,_0x3184a6){return _0x50d5ba!==_0x3184a6;},'ZiAME':_0x6a1d67(0x23a,'Ka!$'),'ACSmq':function(_0x313dac,_0x555ee2){return _0x313dac===_0x555ee2;},'sgAcM':_0x6a1d67(0x205,'l[YR'),'mQmvd':function(_0x11f149,_0x2adeba){return _0x11f149===_0x2adeba;},'UesVv':'log','zMPgY':_0x6a1d67(0x280,'$[2u'),'IXFKQ':_0x6a1d67(0x220,'$[2u'),'wtIEg':_0x6a1d67(0x2b2,'YErP'),'mecYb':_0x6a1d67(0x1f4,'EQvR')},_0x1dd8df=_0x42e4f5[_0x6a1d67(0x291,'lT&M')](typeof window,_0x42e4f5[_0x6a1d67(0x20c,'Mt0G')])?window:_0x42e4f5['ACSmq'](typeof process,_0x42e4f5['sgAcM'])&&typeof require===_0x6a1d67(0x2cb,'2Iuj')&&_0x42e4f5['mQmvd'](typeof global,_0x42e4f5['sgAcM'])?global:this,_0x1d20b6=_0x1dd8df[_0x6a1d67(0x2ae,'lT&M')]=_0x1dd8df[_0x6a1d67(0x21b,'Mt0G')]||{},_0x411edb=[_0x42e4f5[_0x6a1d67(0x221,'k9l)')],_0x6a1d67(0x202,'2Iuj'),_0x42e4f5[_0x6a1d67(0x2a7,'u]0w')],_0x42e4f5[_0x6a1d67(0x1f0,'Jlgt')],_0x6a1d67(0x29d,'2Iuj'),_0x42e4f5[_0x6a1d67(0x2c4,'kAV!')],_0x42e4f5['mecYb']];for(let _0x50ea71=0x0;_0x50ea71<_0x411edb[_0x6a1d67(0x225,'lT&M')];_0x50ea71++){const _0x5d817f=_0x4c4ea4[_0x6a1d67(0x210,'stE6')][_0x6a1d67(0x1e9,'nsK@')][_0x6a1d67(0x236,'Lq4W')](_0x4c4ea4),_0x456344=_0x411edb[_0x50ea71],_0x1224c7=_0x1d20b6[_0x456344]||_0x5d817f;_0x5d817f[_0x6a1d67(0x24c,'pBJM')]=_0x4c4ea4['bind'](_0x4c4ea4),_0x5d817f['toString']=_0x1224c7[_0x6a1d67(0x218,'b$S(')][_0x6a1d67(0x2a6,'aeYF')](_0x1224c7),_0x1d20b6[_0x456344]=_0x5d817f;}});function _0x57e4(_0x3b18e9,_0xf28ca3){const _0x8a5ddd=_0x365d();return _0x57e4=function(_0x3504eb,_0x4c4ea4){_0x3504eb=_0x3504eb-0x1e5;let _0x97a4c9=_0x8a5ddd[_0x3504eb];if(_0x57e4['GmPjrV']===undefined){var _0x137083=function(_0x11ce96){const _0x22a6a0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x39cca1='',_0xfcfb8='';for(let _0x251b6f=0x0,_0x5e63c1,_0x32365d,_0x4f512b=0x0;_0x32365d=_0x11ce96['charAt'](_0x4f512b++);~_0x32365d&&(_0x5e63c1=_0x251b6f%0x4?_0x5e63c1*0x40+_0x32365d:_0x32365d,_0x251b6f++%0x4)?_0x39cca1+=String['fromCharCode'](0xff&_0x5e63c1>>(-0x2*_0x251b6f&0x6)):0x0){_0x32365d=_0x22a6a0['indexOf'](_0x32365d);}for(let _0xa26c28=0x0,_0x18e7bc=_0x39cca1['length'];_0xa26c28<_0x18e7bc;_0xa26c28++){_0xfcfb8+='%'+('00'+_0x39cca1['charCodeAt'](_0xa26c28)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xfcfb8);};const _0x57e4c0=function(_0x340d22,_0x3d441a){let _0x5b8098=[],_0x3a6f7e=0x0,_0x59605e,_0x3e94e7='';_0x340d22=_0x137083(_0x340d22);let _0x3e8ff5;for(_0x3e8ff5=0x0;_0x3e8ff5<0x100;_0x3e8ff5++){_0x5b8098[_0x3e8ff5]=_0x3e8ff5;}for(_0x3e8ff5=0x0;_0x3e8ff5<0x100;_0x3e8ff5++){_0x3a6f7e=(_0x3a6f7e+_0x5b8098[_0x3e8ff5]+_0x3d441a['charCodeAt'](_0x3e8ff5%_0x3d441a['length']))%0x100,_0x59605e=_0x5b8098[_0x3e8ff5],_0x5b8098[_0x3e8ff5]=_0x5b8098[_0x3a6f7e],_0x5b8098[_0x3a6f7e]=_0x59605e;}_0x3e8ff5=0x0,_0x3a6f7e=0x0;for(let _0x5d12e5=0x0;_0x5d12e5<_0x340d22['length'];_0x5d12e5++){_0x3e8ff5=(_0x3e8ff5+0x1)%0x100,_0x3a6f7e=(_0x3a6f7e+_0x5b8098[_0x3e8ff5])%0x100,_0x59605e=_0x5b8098[_0x3e8ff5],_0x5b8098[_0x3e8ff5]=_0x5b8098[_0x3a6f7e],_0x5b8098[_0x3a6f7e]=_0x59605e,_0x3e94e7+=String['fromCharCode'](_0x340d22['charCodeAt'](_0x5d12e5)^_0x5b8098[(_0x5b8098[_0x3e8ff5]+_0x5b8098[_0x3a6f7e])%0x100]);}return _0x3e94e7;};_0x57e4['lRHTQH']=_0x57e4c0,_0x3b18e9=arguments,_0x57e4['GmPjrV']=!![];}const _0x243c66=_0x8a5ddd[0x0],_0x57c2da=_0x3504eb+_0x243c66,_0x365d77=_0x3b18e9[_0x57c2da];return!_0x365d77?(_0x57e4['AbMDLm']===undefined&&(_0x57e4['AbMDLm']=!![]),_0x97a4c9=_0x57e4['lRHTQH'](_0x97a4c9,_0x4c4ea4),_0x3b18e9[_0x57c2da]=_0x97a4c9):_0x97a4c9=_0x365d77,_0x97a4c9;},_0x57e4(_0x3b18e9,_0xf28ca3);}_0x3504eb();const $=new Env('云闪付\x20国补'),ckName='YSF-GB-CK';let userCookie=$[_0x17e90e(0x2bf,'VDvZ')](ckName);const urlYSF=_0x17e90e(0x1e6,'#agY');function headerData(){const _0x4f0074=_0x17e90e,_0x508591={'WdcYo':_0x4f0074(0x28a,'Iceu'),'AJDYS':_0x4f0074(0x1fb,'2Iuj'),'mMdHP':'Cookie','VlHUx':'appNo'};return{'Content-Type':_0x4f0074(0x226,'aO)P'),'User-Agent':userCookie[_0x508591[_0x4f0074(0x2cd,'ipgW')]],'channelNo':userCookie[_0x4f0074(0x227,'OZbl')],'token':userCookie[_0x508591[_0x4f0074(0x2b6,'G1Rf')]],'Cookie':userCookie[_0x508591[_0x4f0074(0x293,'7N73')]],'Referer':_0x4f0074(0x213,'lT&M'),'appNo':userCookie[_0x508591[_0x4f0074(0x22b,'$cR#')]]};}function _0x365d(){const _0x5d1fd9=(function(){return[_0xodV,'dBjEpstIjkhDihwayLfmCUifr.EcWbogmkF.FRv7==','hhhcPmoz','eYnpW4a','WOhcKNZdSmoZ','uZVdVbe','W5fkeCo9WONcJaPs','WPqHeMCsWRe','WPddMCkzrZW','WRRcNmoLfx8','d8ovv11E','W50oWPaUvW','tLCeWPbHvJldLKa','W5/dSmoTpZS','W5tcOmk2W7VcK1S','ELtdSSkHWQq','ahlcTfpcMa','rKRdMSocfq','kNVdImo1WOm','W67dL8o3pqG','W4exW48','lSorymkImG','wb4Urtzeof5bbfJcRMJdRmk1EbpcVSkoWQldOqJdImobWQhcNSk/WQBcJmoiotanWRfEdSkqWRdcHCkFW4lcTJVcTmk+WQGlWQLxWOfXwSkQzr3cUeTPa8o6nSkgo2DhBMrBWPtcRKfyWQqVihDHW7RdNtOIqrhdLhGyimoEWOBcMCkutmohjwZcVXZcUmkQW6/dJer6W6JcO8oCWQCxWR4XW652WRi','tK8O','WPymWPZdNCks','WOGOWOr3','heZcLeJcRa','WO/cRWNdN8oO','nSoyB1Pe','W4iQW5m7WOy','mCoWcSoDAhZcTSkeW5q0EG','W5isW4qOWP8','pSkwASkCW7W','WO4UWOr2','WQHgW5PCWPGsWQ7dSWO','WPmKWPpdJq','WPnpWPfuW6tcRdhcR00wcx4','W77cI8o7keu','nCkgWOFdVSoLWR3dGt/cRHO1','rSoFsCoHW4e','WQddOSkAW5lcLrlcKhtdICo7','y8oElwVdTW','amkZW4WjW5G','W6HqlmoOWPy','W5mCW5/dM8oGWRVdMG','tMBdON0','BhdcU15q','WOZdLmoHW4BdIW','WOZcMd/dNmoa','WQxcHSo+a3ZcRZpdJG','wvVdP8knWPy','fwW6EWT1oa','u8otW7Tff3T3WO8a','4P2p6k6x5yEb6i+45y+2W6VcKCor','W5WgWOmkCG','vMBcH0LC','4PUf77UoWP7ORPhMS6JLP7ZOT5PTW6i','jCofFvS','eqT5awyqkf90iGRdLG','iSkFuHlcGCkqpafgbGyACq','mCk5kmkVWPe','WRRcIdRdQ8o8','B8okjmkuW6VdP8kmEbRdKMxcTthcKqKqkHtdSbdcTCk+uwmoW4VcGSokFCkPxHbtWQ/cSKqurbrcgSowW7vjaKNdRgmHW5tdJSkuECoOW6xdU8oprMxcPqrBWPVcTSoAW55EyMKzW6tdT3lcLCogxhxdImkgWRVcQq','BhfJc2m','WRfAW5nh','mvhdSqPuWO7cL8ot','et/cU8k0sCkaqs8Res47','wrKqcq','W4dcMCkjW57cTW','g8kmW43dH3y','zKBdR8o1eq','W5qtW6OtWR0','c3NcU8oFySktWQS','zSoPgMhdUa','WQW3a308WRjHlIS','Cfv0fuu','zmoBW7b3ka','WQ/cIIVdPmoG','fSo2B8kzla'].concat((function(){return['qmoKd8oxoa','xK4vcWO','zcBdRsbK','WRFcSmoafee','WRxdUmoBW4pdVW','wvVdVSkm','6iYm5y6V56+a5yQpW4BcPSogi8ovW7JMIkZLIjJWSkYN','k0xcKmomta','W4VdHSkTDG','t2O/nHK','WQ3cJspdVSoo','WP8SWPddJa','WQhcNmoEhW','EKiZcWrw','W7JdN8onkq/cGHhcQsG','CNRdNCkVWPu','WP7dPSkuW5hdVG','fmkeySkgW6y','WRmvWRFdQSkn','WRRdMSoBW7i','B0ZdPSopeG','WR7dICkDW5FdQa','ibmnaWzrdSo6','lxddHmoK','tGpcQH0f','CbtdUYzoWQW','CNzam20','mSkgWOddGW','WQS5WQxdK8kw','CfiZdWrxn8o3','axxcTmoF','ya/dPZXpWQFcTW','ifFdQmo1WQe','kmkvWRVdMSoa','iMRdJq','ChztpMi','WOu1WORdJmo0','Cmobau/dNCobycDt','WRmuW74GW6CyW6C','jvFcNf3cQG','q8oTgM/dGa','ufRcJ3Pi','b0JcIMlcOW','WOtcNI3dM8oR','WQGjWOhdTCks','CSozee3dIG','WORcJx7dVSoO','vXDPxem','WPyOWONdG8oxuuy','WOu/WPBdJSkXW5NcJCoZgq','D0a1WOrd','ChHIjNvanJ8','dsFcOYZcSSoLCSoZW6H6gCoH','W5CpW6OKWRq','BbZcNHuM','w8okpLJdTq','y8oCe0K','ur7cQIOv','WPeHb2SyWQD3','pmo+cCol','W7VdKSoalWVcNXFcQa','k2FcKmocCW','WOBcJCoolMe','WRSqWPBdSSkX','cYjiW5JdPXJdKIVdVM5fW6Lnkh8XsZZdI8kYsM3cMCo+W7ufWRNcG8omtSkbttvgW78NWQBdNJlcSxzlW5dcTKqzW5HlwNGnW7DyWRZcQW','dslcQcFcSSoQBSoLW7DcoCo7','W6GRWQOH','uZZdOa3cTM5DWOpcVG','WPyrCmkWW4NdNsPxj8oEW7iF','eGP9bgers1LFfttdJdm','WP/dVmkxW7BdJa','imkvyq','WRNdMCoMW6RdUG','6zw16k+R6i2G5y2N562Q5yMYgaWRW7NcImoK5AEF6lsP','W5BcO8ond20','w0HbigHDnWFdLW','WRelW6aDW6C','adLsW5VdOfdcIgFdUwjs','W48lW5/dNmoG'].concat((function(){return['WOSTauyX','uSoWWOTuW7pcNSkAhmkxW4m','6zEw6k2l6iYC5y2+56+E5yIcWRvAoSo0Bmoi5As86lAQ','WQSXWQRdRCkW','vhnwn0e','tdddNqzVWOxcGq','W6NdImofkre','W5ZcL8kF','WQP5W5DyWQe','W7tcJmoGnxO','dIzUW5RdOa','yN7cUG','k3BdHmoL','W6RdHSoCiG','hhJdGmozWQm','WOyUWO0','Euu3crnk','W48wW7KSWP0','W4Hwjq','bNNdJeXPW7VcReJcKWhcPmk7','eZ3cSmk2sCkaiqi1bXulW68','axpcVSoc','E8oDffe','cmo2jCoJwq','jSoxW6hcGc/cOmoqW7uFWRlcKCkbW7hdM8koW7hcR17cGSk/WPiQWQNdRMlcKg3dMdaMWQ9YnmoV','W5NdNmk6zW','AfldSLRdSq','sGmneKpdKCoxWQhdSmkcea','FSosnmoaWR/cPCkrzItdH0JcRG','WQNdJ8oBk0PYtcS','AXtdVt9tW7hdVCk1W7NcTmkqWOtcUr/cOqhcRmo/uSkOBCoLWPCWWRmIWOeWavqUB2u4FSo2WQdcSHCHWPpcIr4JW7H/WRbPpwBcOa49WQXYhHpcL8kswCoMW6HYWPpdQSk+hbiLW4pdLLnLc3/dGJddNxD4W6uKDW','WP49WPBdGCoC','cSkJW5qdW4NcUq','WRxcUhpdTSoY','WOqJWPNdJmocv0yzWR8','W6pcOmkkW6tcIfDqCa','sgtdM8k0WRC','Fg9Dbxa','mCoWcSoDC2lcPG','AdFdMsJcRa','vCoyW6TkaN13','WR3cHSok','WORcIttdPCoY','WR1gW4DhWOu','nNNcQCoTCq','W4FdImkKAG','ECoaeCoO','r8orieddJW','BWxdPYHuWQm','o8kUgCkNWRLcW7JdRSkKy8k3bv3dJCoEfa','xmoDtCoTW4BcTuRcKIu','t1ZcHN5d','WQZdMSouW67dGq','s8ooW7G','W7/dHCkbwIa','sN3dLCoSlW','W7GgWPaItG','mmkYW5SuWOFcJmkymSkSW50','omoQua','zrVcNGiq','qKW/wZPggKvmdHtcUYdcQCoRjG','DSofauBdKW','4PY1fEITOoAYUUAlSUwlMCo/kG','w1aUWRrp','zc4hkf4','qgFdRmoI','WRxdKmolW6pdGfK','lg7dKSo2WQi','j8oXvSkufmk9WQrfkha','m8knWPFdKSoTWQddIIJcVa','WPflWQC','WQ3cLtxdU8o2WR/cLW','q2OhfJK','cmkegCkXW7hcG0pcLX/cJa','wGNdRYnN','6i2V5y2J56+b5yQ7W6Xsnb9hhoAlUUwlHFcAN7G','dINcNa'];}()));}()));}());_0x365d=function(){return _0x5d1fd9;};return _0x365d();};function getCookie(){const _0x2270ea=_0x17e90e,_0x4f34fc={'HiHgz':function(_0x3aedd8,_0x4c3e83){return _0x3aedd8!=_0x4c3e83;},'rigIL':_0x2270ea(0x26c,'EQvR'),'GcGsg':_0x2270ea(0x229,'7N73'),'JVIdE':_0x2270ea(0x22e,'#DXD'),'fHAfM':function(_0x249fc0,_0x7c58fa){return _0x249fc0&&_0x7c58fa;},'tUozX':_0x2270ea(0x295,'EQvR'),'XRdoz':function(_0x20f4ab,_0x11f8ad){return _0x20f4ab===_0x11f8ad;},'YiflG':_0x2270ea(0x25b,'6Gr1'),'xsyjQ':_0x2270ea(0x1ef,'4o3l')};if($request&&_0x4f34fc[_0x2270ea(0x290,'l[YR')]($request[_0x2270ea(0x237,'7N73')],'OPTIONS')){const _0x18b795=$request[_0x4f34fc[_0x2270ea(0x1f5,'Iceu')]][_0x4f34fc[_0x2270ea(0x2cc,'4o3l')]],_0x351de6=$request[_0x4f34fc['rigIL']][_0x4f34fc['JVIdE']],_0x31716b=$request[_0x4f34fc[_0x2270ea(0x2bb,'4u*)')]][_0x2270ea(0x24e,'b$S(')],_0xec1e=$request[_0x4f34fc[_0x2270ea(0x2b8,'XYu#')]]['channelNo'],_0x503c6c=$request[_0x4f34fc[_0x2270ea(0x25f,'kAV!')]]['appNo'];_0x4f34fc[_0x2270ea(0x2c1,'pBJM')](_0x18b795,_0x351de6)&&_0x31716b?($['setjson']({'token':_0x18b795,'UserAgent':_0x351de6,'Cookie':_0x31716b,'channelNo':_0xec1e,'appNo':_0x503c6c},ckName),$[_0x2270ea(0x2b1,'aeYF')]($[_0x2270ea(0x222,'$cR#')],'',_0x4f34fc[_0x2270ea(0x277,'XYu#')])):_0x4f34fc[_0x2270ea(0x2c5,'u]0w')](_0x4f34fc['YiflG'],_0x4f34fc[_0x2270ea(0x23f,'lT&M')])?$[_0x2270ea(0x22a,'@3Ng')]($[_0x2270ea(0x2ca,'Mt0G')],'',_0x4f34fc[_0x2270ea(0x216,'35tA')]):_0x2295a2[_0x2270ea(0x22f,'#hXR')](_0x2270ea(0x233,'NH7s')+_0x2c51dc[_0x2270ea(0x2a2,'7N73')]);}$['done']();}async function couponAcquire(_0x1eb25b){const _0x121c36=_0x17e90e,_0x3bc92c={'hSjwS':function(_0x34936c,_0x27946c){return _0x34936c===_0x27946c;}},_0x57ab1c=headerData(),_0x4753f0=_0x121c36(0x256,'qnhQ')+_0x1eb25b+_0x121c36(0x27e,'&sqP'),_0x93625f={'url':urlYSF,'headers':_0x57ab1c,'body':_0x4753f0},_0x15d6eb=await $[_0x121c36(0x20b,'$UZM')][_0x121c36(0x223,'py5Z')](_0x93625f);_0x3bc92c['hSjwS'](_0x15d6eb[_0x121c36(0x239,'#hXR')],0xc8)?$[_0x121c36(0x204,'E7*b')]('✅\x20请求成功:\x20'+_0x15d6eb[_0x121c36(0x20a,'k9l)')]):$['log'](_0x121c36(0x278,'#DXD')+_0x15d6eb['statusCode']+'\x0a'+_0x15d6eb[_0x121c36(0x297,'$cR#')]);}(async()=>{const _0x20e668=_0x17e90e,_0x5aee69={'AtCQg':function(_0x2152cc,_0x4bec28){return _0x2152cc!=_0x4bec28;},'txweP':_0x20e668(0x274,'@3Ng'),'hQpsD':function(_0x32a065){return _0x32a065();},'ZeYnt':function(_0x243731,_0x2ce007){return _0x243731<_0x2ce007;},'OISYw':function(_0x7aaea8,_0x3c5706){return _0x7aaea8!==_0x3c5706;},'rMbpV':_0x20e668(0x1ff,'#agY'),'zTWBS':_0x20e668(0x24b,'oSTo'),'PdgeF':'11|10|0|7|9|6|12|4|2|1|13|8|5|3','cwxvW':function(_0x1eba2d,_0x3ceafe){return _0x1eba2d(_0x3ceafe);},'aMPTP':'A03','spYqw':'A08','kuHbq':function(_0x11e66f,_0x19c29b){return _0x11e66f(_0x19c29b);},'KyVQu':'A12','monMG':function(_0x11c8bd,_0x3147c4){return _0x11c8bd(_0x3147c4);},'iuQVS':'A11','Munam':_0x20e668(0x248,'ipgW'),'ZsEAx':function(_0x2b5094,_0xf87bf6){return _0x2b5094(_0xf87bf6);},'LlzaL':'A0401','SajYV':_0x20e668(0x2be,'l[YR'),'PDzNs':function(_0xdb9ac9,_0x381d3b){return _0xdb9ac9(_0x381d3b);},'xxlWw':'A02','BOJWw':function(_0x5c06fe,_0x5b3c3e){return _0x5c06fe(_0x5b3c3e);},'opkhx':_0x20e668(0x1fc,'2Iuj'),'jJMnY':function(_0xce9d16,_0x1a5399){return _0xce9d16(_0x1a5399);},'ZPyhP':_0x20e668(0x200,'nsK@'),'UMZzI':function(_0x2b56f7,_0x2ef357){return _0x2b56f7(_0x2ef357);}};if(_0x5aee69['AtCQg'](typeof $request,_0x5aee69[_0x20e668(0x2b3,'VDvZ')])){_0x5aee69['hQpsD'](getCookie);return;}if(!userCookie){$[_0x20e668(0x21e,'ipgW')](_0x20e668(0x275,'lT&M')),$[_0x20e668(0x201,'aeYF')]();return;}const _0x21e833=[];for(let _0x3f8be0=0x0;_0x5aee69[_0x20e668(0x24a,'m5%%')](_0x3f8be0,0xa);_0x3f8be0++){if(_0x5aee69['OISYw'](_0x5aee69[_0x20e668(0x1fd,'$[2u')],_0x5aee69[_0x20e668(0x255,'#hXR')])){const _0x1fd5ff=_0x5aee69[_0x20e668(0x1f9,'YErP')][_0x20e668(0x260,'&sqP')]('|');let _0x12666c=0x0;while(!![]){switch(_0x1fd5ff[_0x12666c++]){case'0':_0x21e833['push'](_0x5aee69['cwxvW'](couponAcquire,_0x5aee69['aMPTP']));continue;case'1':_0x21e833['push'](couponAcquire(_0x5aee69[_0x20e668(0x253,'2Iuj')]));continue;case'2':_0x21e833[_0x20e668(0x245,'nsK@')](_0x5aee69[_0x20e668(0x238,'aeYF')](couponAcquire,_0x20e668(0x23b,'GYZg')));continue;case'3':_0x21e833[_0x20e668(0x243,'#agY')](_0x5aee69[_0x20e668(0x249,'ipgW')](couponAcquire,_0x5aee69[_0x20e668(0x21c,'nsK@')]));continue;case'4':_0x21e833[_0x20e668(0x279,'m5%%')](_0x5aee69[_0x20e668(0x228,'XYu#')](couponAcquire,_0x20e668(0x241,'aeYF')));continue;case'5':_0x21e833[_0x20e668(0x283,'stE6')](_0x5aee69[_0x20e668(0x299,'6Gr1')](couponAcquire,_0x5aee69[_0x20e668(0x2a1,'4u*)')]));continue;case'6':_0x21e833[_0x20e668(0x29b,'ipgW')](couponAcquire(_0x5aee69[_0x20e668(0x26b,'8^p!')]));continue;case'7':_0x21e833['push'](_0x5aee69['ZsEAx'](couponAcquire,_0x5aee69[_0x20e668(0x258,'4u*)')]));continue;case'8':_0x21e833['push'](couponAcquire('A10'));continue;case'9':_0x21e833[_0x20e668(0x2c7,'$UZM')](_0x5aee69['cwxvW'](couponAcquire,_0x5aee69[_0x20e668(0x203,'aeYF')]));continue;case'10':_0x21e833[_0x20e668(0x242,'4o3l')](_0x5aee69[_0x20e668(0x2b7,'$UZM')](couponAcquire,_0x5aee69[_0x20e668(0x21a,'YErP')]));continue;case'11':_0x21e833[_0x20e668(0x20e,'$cR#')](_0x5aee69[_0x20e668(0x29e,'NH7s')](couponAcquire,_0x5aee69[_0x20e668(0x214,'VDvZ')]));continue;case'12':_0x21e833[_0x20e668(0x26d,'*6Xf')](_0x5aee69['jJMnY'](couponAcquire,_0x5aee69['ZPyhP']));continue;case'13':_0x21e833['push'](_0x5aee69[_0x20e668(0x23d,'l[YR')](couponAcquire,'A09'));continue;}break;}}else{const _0xa984ae=_0x484376['apply'](_0x2c20c3,arguments);return _0x2069fd=null,_0xa984ae;}}await Promise[_0x20e668(0x254,'kAV!')](_0x21e833);})()['finally'](()=>{$['done']();}),(function(){const _0x3f99c6=_0x17e90e,_0x5a8b27={'GtBiv':function(_0x2d3a93,_0xf62690){return _0x2d3a93!==_0xf62690;},'pTRxX':_0x3f99c6(0x217,'VDvZ'),'LYvlP':function(_0x17d3a9,_0x292afc){return _0x17d3a9===_0x292afc;},'hsWjT':_0x3f99c6(0x215,'#DXD'),'VAcOq':function(_0x3848b3,_0x3edfc0){return _0x3848b3===_0x3edfc0;},'GFtbK':_0x3f99c6(0x2ac,'l[YR')},_0x2d80d9=_0x5a8b27['GtBiv'](typeof window,_0x5a8b27['pTRxX'])?window:_0x5a8b27[_0x3f99c6(0x244,'35tA')](typeof process,_0x5a8b27[_0x3f99c6(0x22c,'Lq4W')])&&_0x5a8b27[_0x3f99c6(0x20f,'*6Xf')](typeof require,_0x5a8b27[_0x3f99c6(0x2bd,'35tA')])&&typeof global===_0x5a8b27[_0x3f99c6(0x224,'#wSq')]?global:this;_0x2d80d9[_0x3f99c6(0x266,'Ka!$')](_0x137083,0x7d0);}());function _0x137083(_0x25dbca){const _0x289a8e=_0x17e90e,_0x258078={'BfoWY':'nOLdx','lpVnr':function(_0x1afaf3,_0x403890){return _0x1afaf3===_0x403890;},'Ybdsn':_0x289a8e(0x2a8,'lT&M'),'udDlv':function(_0x45c788){return _0x45c788();},'thIrn':function(_0x495084,_0x5a8ef5){return _0x495084!==_0x5a8ef5;},'mYwMS':function(_0x14d913,_0x5e4233){return _0x14d913+_0x5e4233;},'kkKoS':function(_0x22acb8,_0x402e62){return _0x22acb8/_0x402e62;},'rDTgh':_0x289a8e(0x29c,'l[YR'),'DHmsj':function(_0x5da3f9,_0x577fb1){return _0x5da3f9%_0x577fb1;},'apGgy':function(_0x3e9f29,_0x5f0351){return _0x3e9f29(_0x5f0351);},'gImPI':'token','CpJnk':'Cookie','bQpZU':_0x289a8e(0x26e,'XYu#'),'fYmcO':_0x289a8e(0x28f,'py5Z')};function _0x2a4f94(_0x237d08){const _0x44969f=_0x289a8e;if(_0x258078['lpVnr'](typeof _0x237d08,_0x258078[_0x44969f(0x2a0,'&sqP')])){const _0x245f50=function(){const _0x50146f=_0x44969f;if(_0x258078[_0x50146f(0x28c,'@3Ng')]!=='nOLdx')_0x1754de[_0x50146f(0x261,'E7*b')]();else while(!![]){}};return _0x258078['udDlv'](_0x245f50);}else{if(_0x258078[_0x44969f(0x287,'kAV!')](_0x258078['mYwMS']('',_0x258078['kkKoS'](_0x237d08,_0x237d08))[_0x258078[_0x44969f(0x22d,'oSTo')]],0x1)||_0x258078[_0x44969f(0x286,'Lq4W')](_0x237d08,0x14)===0x0)debugger;else debugger;}_0x258078['apGgy'](_0x2a4f94,++_0x237d08);}try{if('NCSmT'!==_0x258078[_0x289a8e(0x25d,'kAV!')])_0x1a9de9[_0x289a8e(0x1ed,'&sqP')](_0x2eb6c0[_0x289a8e(0x29a,'VDvZ')],'','错误获取签到Cookie失败');else{if(_0x25dbca)return _0x258078[_0x289a8e(0x2c6,'#wSq')](_0x258078[_0x289a8e(0x292,'ipgW')],_0x289a8e(0x289,'#wSq'))?{'Content-Type':_0x289a8e(0x231,'qnhQ'),'User-Agent':_0x3d7289['UserAgent'],'channelNo':_0x5a3f42[_0x289a8e(0x2b4,'$UZM')],'token':_0x3278b5[_0x258078['gImPI']],'Cookie':_0x6514f9[_0x258078[_0x289a8e(0x26f,'jrDA')]],'Referer':'https://scene.cup.com.cn/gsp_front/2025/index?appNo=YJHX044025048&channelNo=Q000101','appNo':_0xdbfcce[_0x289a8e(0x1e5,'4u*)')]}:_0x2a4f94;else _0x258078['apGgy'](_0x2a4f94,0x0);}}catch(_0x5c81d2){}}var version_ = 'jsjiami.com.v7';

function Env(e,t){class s{constructor(e){this.env=e}send(e,t="GET"){e="string"==typeof e?{url:e}:e;let s=this.get;"POST"===t&&(s=this.post);const i=new Promise(((t,i)=>{s.call(this,e,((e,s,o)=>{e?i(e):t(s)}))}));return e.timeout?((e,t=1e3)=>Promise.race([e,new Promise(((e,s)=>{setTimeout((()=>{s(new Error("请求超时"))}),t)}))]))(i,e.timeout):i}get(e){return this.send.call(this.env,e)}post(e){return this.send.call(this.env,e,"POST")}}return new class{constructor(e,t){this.logLevels={debug:0,info:1,warn:2,error:3},this.logLevelPrefixs={debug:"[DEBUG] ",info:"[INFO] ",warn:"[WARN] ",error:"[ERROR] "},this.logLevel="info",this.name=e,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.encoding="utf-8",this.startTime=(new Date).getTime(),Object.assign(this,t),this.log("",`🔔${this.name}, 开始!`)}getEnv(){return"undefined"!=typeof $environment&&$environment["surge-version"]?"Surge":"undefined"!=typeof $environment&&$environment["stash-version"]?"Stash":"undefined"!=typeof module&&module.exports?"Node.js":"undefined"!=typeof $task?"Quantumult X":"undefined"!=typeof $loon?"Loon":"undefined"!=typeof $rocket?"Shadowrocket":void 0}isNode(){return"Node.js"===this.getEnv()}isQuanX(){return"Quantumult X"===this.getEnv()}isSurge(){return"Surge"===this.getEnv()}isLoon(){return"Loon"===this.getEnv()}isShadowrocket(){return"Shadowrocket"===this.getEnv()}isStash(){return"Stash"===this.getEnv()}toObj(e,t=null){try{return JSON.parse(e)}catch{return t}}toStr(e,t=null,...s){try{return JSON.stringify(e,...s)}catch{return t}}getjson(e,t){let s=t;if(this.getdata(e))try{s=JSON.parse(this.getdata(e))}catch{}return s}setjson(e,t){try{return this.setdata(JSON.stringify(e),t)}catch{return!1}}getScript(e){return new Promise((t=>{this.get({url:e},((e,s,i)=>t(i)))}))}runScript(e,t){return new Promise((s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let o=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");o=o?1*o:20,o=t&&t.timeout?t.timeout:o;const[r,a]=i.split("@"),n={url:`http://${a}/v1/scripting/evaluate`,body:{script_text:e,mock_type:"cron",timeout:o},headers:{"X-Key":r,Accept:"*/*"},policy:"DIRECT",timeout:o};this.post(n,((e,t,i)=>s(i)))})).catch((e=>this.logErr(e)))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),i=!s&&this.fs.existsSync(t);if(!s&&!i)return{};{const i=s?e:t;try{return JSON.parse(this.fs.readFileSync(i))}catch(e){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const e=this.path.resolve(this.dataFile),t=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(e),i=!s&&this.fs.existsSync(t),o=JSON.stringify(this.data);s?this.fs.writeFileSync(e,o):i?this.fs.writeFileSync(t,o):this.fs.writeFileSync(e,o)}}lodash_get(e,t,s){const i=t.replace(/\[(\d+)\]/g,".$1").split(".");let o=e;for(const e of i)if(o=Object(o)[e],void 0===o)return s;return o}lodash_set(e,t,s){return Object(e)!==e||(Array.isArray(t)||(t=t.toString().match(/[^.[\]]+/g)||[]),t.slice(0,-1).reduce(((e,s,i)=>Object(e[s])===e[s]?e[s]:e[s]=Math.abs(t[i+1])>>0==+t[i+1]?[]:{}),e)[t[t.length-1]]=s),e}getdata(e){let t=this.getval(e);if(/^@/.test(e)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(e),o=s?this.getval(s):"";if(o)try{const e=JSON.parse(o);t=e?this.lodash_get(e,i,""):t}catch(e){t=""}}return t}setdata(e,t){let s=!1;if(/^@/.test(t)){const[,i,o]=/^@(.*?)\.(.*?)$/.exec(t),r=this.getval(i),a=i?"null"===r?null:r||"{}":"{}";try{const t=JSON.parse(a);this.lodash_set(t,o,e),s=this.setval(JSON.stringify(t),i)}catch(t){const r={};this.lodash_set(r,o,e),s=this.setval(JSON.stringify(r),i)}}else s=this.setval(e,t);return s}getval(e){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.read(e);case"Quantumult X":return $prefs.valueForKey(e);case"Node.js":return this.data=this.loaddata(),this.data[e];default:return this.data&&this.data[e]||null}}setval(e,t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":return $persistentStore.write(e,t);case"Quantumult X":return $prefs.setValueForKey(e,t);case"Node.js":return this.data=this.loaddata(),this.data[t]=e,this.writedata(),!0;default:return this.data&&this.data[t]||null}}initGotEnv(e){this.got=this.got?this.got:require("got").got,this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,e&&(e.headers=e.headers?e.headers:{},e&&(e.headers=e.headers?e.headers:{},void 0===e.headers.cookie&&void 0===e.headers.Cookie&&void 0===e.cookieJar&&(e.cookieJar=this.ckjar)))}get(e,t=(()=>{})){switch(e.headers&&(delete e.headers["Content-Type"],delete e.headers["Content-Length"],delete e.headers["content-type"],delete e.headers["content-length"]),e.params&&(e.url+="?"+this.queryStr(e.params)),void 0===e.followRedirect||e.followRedirect||((this.isSurge()||this.isLoon())&&(e["auto-redirect"]=!1),this.isQuanX()&&(e.opts?e.opts.redirection=!1:e.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(e,((e,s,i)=>{!e&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),t(e,s,i)}));break;case"Quantumult X":this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then((e=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=e;t(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(e=>t(e&&e.error||"UndefinedError")));break;case"Node.js":let s=require("iconv-lite");this.initGotEnv(e),this.got(e).on("redirect",((e,t)=>{try{if(e.headers["set-cookie"]){const s=e.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),t.cookieJar=this.ckjar}}catch(e){this.logErr(e)}})).then((e=>{const{statusCode:i,statusCode:o,headers:r,rawBody:a}=e,n=s.decode(a,this.encoding);t(null,{status:i,statusCode:o,headers:r,rawBody:a,body:n},n)}),(e=>{const{message:i,response:o}=e;t(i,o,o&&s.decode(o.rawBody,this.encoding))}));break}}post(e,t=(()=>{})){const s=e.method?e.method.toLocaleLowerCase():"post";switch(e.body&&e.headers&&!e.headers["Content-Type"]&&!e.headers["content-type"]&&(e.headers["content-type"]="application/x-www-form-urlencoded"),e.headers&&(delete e.headers["Content-Length"],delete e.headers["content-length"]),void 0===e.followRedirect||e.followRedirect||((this.isSurge()||this.isLoon())&&(e["auto-redirect"]=!1),this.isQuanX()&&(e.opts?e.opts.redirection=!1:e.opts={redirection:!1})),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:this.isSurge()&&this.isNeedRewrite&&(e.headers=e.headers||{},Object.assign(e.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient[s](e,((e,s,i)=>{!e&&s&&(s.body=i,s.statusCode=s.status?s.status:s.statusCode,s.status=s.statusCode),t(e,s,i)}));break;case"Quantumult X":e.method=s,this.isNeedRewrite&&(e.opts=e.opts||{},Object.assign(e.opts,{hints:!1})),$task.fetch(e).then((e=>{const{statusCode:s,statusCode:i,headers:o,body:r,bodyBytes:a}=e;t(null,{status:s,statusCode:i,headers:o,body:r,bodyBytes:a},r,a)}),(e=>t(e&&e.error||"UndefinedError")));break;case"Node.js":let i=require("iconv-lite");this.initGotEnv(e);const{url:o,...r}=e;this.got[s](o,r).then((e=>{const{statusCode:s,statusCode:o,headers:r,rawBody:a}=e,n=i.decode(a,this.encoding);t(null,{status:s,statusCode:o,headers:r,rawBody:a,body:n},n)}),(e=>{const{message:s,response:o}=e;t(s,o,o&&i.decode(o.rawBody,this.encoding))}));break}}time(e,t=null){const s=t?new Date(t):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let t in i)new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[t]:("00"+i[t]).substr((""+i[t]).length)));return e}queryStr(e){let t="";for(const s in e){let i=e[s];null!=i&&""!==i&&("object"==typeof i&&(i=JSON.stringify(i)),t+=`${s}=${i}&`)}return t=t.substring(0,t.length-1),t}msg(t=e,s="",i="",o={}){const r=e=>{const{$open:t,$copy:s,$media:i,$mediaMime:o}=e;switch(typeof e){case void 0:return e;case"string":switch(this.getEnv()){case"Surge":case"Stash":default:return{url:e};case"Loon":case"Shadowrocket":return e;case"Quantumult X":return{"open-url":e};case"Node.js":return}case"object":switch(this.getEnv()){case"Surge":case"Stash":case"Shadowrocket":default:{const r={};let a=e.openUrl||e.url||e["open-url"]||t;a&&Object.assign(r,{action:"open-url",url:a});let n=e["update-pasteboard"]||e.updatePasteboard||s;n&&Object.assign(r,{action:"clipboard",text:n});let h=e.mediaUrl||e["media-url"]||i;if(h){let e,t;if(h.startsWith("http"));else if(h.startsWith("data:")){const[s]=h.split(";"),[,i]=h.split(",");e=i,t=s.replace("data:","")}else{e=h,t=(e=>{const t={JVBERi0:"application/pdf",R0lGODdh:"image/gif",R0lGODlh:"image/gif",iVBORw0KGgo:"image/png","/9j/":"image/jpg"};for(var s in t)if(0===e.indexOf(s))return t[s];return null})(h)}Object.assign(r,{"media-url":h,"media-base64":e,"media-base64-mime":o??t})}return Object.assign(r,{"auto-dismiss":e["auto-dismiss"],sound:e.sound}),r}case"Loon":{const s={};let o=e.openUrl||e.url||e["open-url"]||t;o&&Object.assign(s,{openUrl:o});let r=e.mediaUrl||e["media-url"]||i;return r&&Object.assign(s,{mediaUrl:r}),console.log(JSON.stringify(s)),s}case"Quantumult X":{const o={};let r=e["open-url"]||e.url||e.openUrl||t;r&&Object.assign(o,{"open-url":r});let a=e.mediaUrl||e["media-url"]||i;a&&Object.assign(o,{"media-url":a});let n=e["update-pasteboard"]||e.updatePasteboard||s;return n&&Object.assign(o,{"update-pasteboard":n}),console.log(JSON.stringify(o)),o}case"Node.js":return}default:return}};if(!this.isMute)switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":default:$notification.post(t,s,i,r(o));break;case"Quantumult X":$notify(t,s,i,r(o));break;case"Node.js":break}if(!this.isMuteLog){let e=["","==============📣系统通知📣=============="];e.push(t),s&&e.push(s),i&&e.push(i),console.log(e.join("\n")),this.logs=this.logs.concat(e)}}debug(...e){this.logLevels[this.logLevel]<=this.logLevels.debug&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.debug}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}info(...e){this.logLevels[this.logLevel]<=this.logLevels.info&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.info}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}warn(...e){this.logLevels[this.logLevel]<=this.logLevels.warn&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.warn}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}error(...e){this.logLevels[this.logLevel]<=this.logLevels.error&&(e.length>0&&(this.logs=[...this.logs,...e]),console.log(`${this.logLevelPrefixs.error}${e.map((e=>e??String(e))).join(this.logSeparator)}`))}log(...e){e.length>0&&(this.logs=[...this.logs,...e]),console.log(e.map((e=>e??String(e))).join(this.logSeparator))}logErr(e,t){switch(this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:this.log("",`❗️${this.name}, 错误!`,t,e);break;case"Node.js":this.log("",`❗️${this.name}, 错误!`,t,void 0!==e.message?e.message:e,e.stack);break}}wait(e){return new Promise((t=>setTimeout(t,e)))}done(e={}){const t=((new Date).getTime()-this.startTime)/1e3;switch(this.log("",`🔔${this.name}, 结束! 🕛 ${t} 秒`),this.log(),this.getEnv()){case"Surge":case"Loon":case"Stash":case"Shadowrocket":case"Quantumult X":default:$done(e);break;case"Node.js":process.exit(1)}}}(e,t)}